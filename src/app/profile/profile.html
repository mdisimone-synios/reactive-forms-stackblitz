<div [formGroup]="form">
  <div class="grid">
    <div class="g-col-12 form-group">
      <div class="g-col-9 form-group">
        <label for="title" class="form-label">Title</label>
        <select id="title" class="form-select" formControlName="title">
          <option disabled [ngValue]="null">Select your Title</option>
          @for (title of titles; track title.value) {
            <option [ngValue]="title.value">
              {{ title.label }}
            </option>
          }
        </select>
        <app-error-message formName="title"></app-error-message>
        <button
          class="btn btn-danger btn-sm btn-info-toggle bi bi-question-circle"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapseSelectPlaceholder"
          aria-expanded="false"
          aria-controls="collapseSelectPlaceholder"
        ></button>
      </div>
    </div>
    <div class="g-col-12 form-group">
      <div class="collapse" id="collapseSelectPlaceholder">
        <div class="card card-body">
          <p>
            This select shows how to setup a select that provides something like
            a
            <code>placeholder</code>. This is done by adding a
            <code>disabled</code> option with a value of <code>null</code>
          </p>
          <p>
            <code>
              &lt;option disabled [ngValue]=&quot;null&quot;&gt;Select your
              Title&lt;/option&gt;
            </code>
          </p>
          <p>
            See
            <a
              href="https://github.com/MarcelloDiSimone/reactive-forms-stackblitz?tab=readme-ov-file#select-placeholders"
              target="_blank"
              >Select Placeholders</a
            >
          </p>
        </div>
      </div>
    </div>
    <div class="g-col-12 form-group">
      <label for="firstname" class="form-label">First name</label>
      <input
        id="firstname"
        class="form-control"
        formControlName="firstName"
        placeholder="Enter first name"
      />
      <app-error-message formName="firstName"></app-error-message>
    </div>
    <div class="g-col-12 form-group">
      <label for="lastname" class="form-label">Last name</label>
      <input
        id="lastname"
        class="form-control"
        formControlName="lastName"
        placeholder="Enter last name"
      />
      <app-error-message formName="lastName"></app-error-message>
    </div>

    <div class="g-col-12 form-group">
      <label for="email" class="form-label">Email</label>
      <div class="input-group">
        <span class="input-group-text bi bi-at" id="email-addon"></span>
        <input
          type="email"
          id="email"
          class="form-control"
          formControlName="email"
          placeholder="Enter email address"
        />
        <app-error-message formName="email"></app-error-message>
      </div>
    </div>

    <div class="g-col-12 form-group">
      <label for="phone" class="form-label">Phone</label>
      <div class="input-group">
        <span class="input-group-text bi bi-telephone" id="phone-addon"></span>
        <input
          type="phone"
          id="phone"
          class="form-control"
          formControlName="phone"
          placeholder="Enter phone number"
        />
        <app-error-message formName="phone"></app-error-message>
      </div>
    </div>
    <div class="g-col-12 form-group">
      <label for="primary-contact">Primary contact:</label>
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          formControlName="primaryContact"
          value="email"
          id="primary-contact-1"
        />
        <label class="form-check-label" for="primary-contact-1"> Email </label>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          formControlName="primaryContact"
          value="phone"
          id="primary-contact-2"
        />
        <label class="form-check-label" for="primary-contact-2"> Phone </label>
      </div>
      <button
        class="btn btn-danger btn-sm btn-info-toggle bi bi-question-circle"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapseConditionalValidation"
        aria-expanded="false"
        aria-controls="collapseConditionalValidation"
      ></button>
    </div>
    <div class="g-col-12 form-group">
      <div class="collapse" id="collapseConditionalValidation">
        <div class="card card-body">
          <p>
            This radio select group uses conditional validation with a custom
            <code>validateWhen</code> factory function. In case `Phone` is
            selected as primare contact method, the conditional validation
            switches the Phone <code>formControl</code> to required.
          </p>
          <p>
            The <code>validateWhen</code> factory function and its working is
            explained in greater detail in the Readme
            <a
              href="https://github.com/MarcelloDiSimone/reactive-forms-stackblitz?tab=readme-ov-file#conditional-validators"
              target="_blank"
              >here</a
            >
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
